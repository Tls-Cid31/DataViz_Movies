<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HeatMap</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v6.js"></script>
    <style>
        /* Home link button */
        .home-link {
            position: fixed;
            top: 16px;
            right: 16px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(102,126,234,0.4);
            z-index: 1100;
        }
        .home-link:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102,126,234,0.6); }
        .home-link svg { width: 22px; height: 22px; fill: #fff; }
    </style>
</head>

<body>
<a href="../index.html" class="home-link" title="Retour à l'accueil" aria-label="Accueil">
    <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 10.5l9-7 9 7V20a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4H9v4a2 2 0 0 1-2 2H3V10.5zM12 4.8l-7 5.44V20h3a1 1 0 0 0 1-1v-5h6v5a1 1 0 0 0 1 1h3V10.24L12 4.8z"></path>
    </svg>
</a>

<!-- ======================  FILTERS  ====================== -->

<div id="filters">

    <div class="filter-block">
        <label for="color-by">Couleur selon :</label>
        <select id="color-by">
            <option value="ratioPeriod">Ratio par période</option>
            <option value="ratioGenre">Ratio par genre</option>
        </select>
    </div>

    <!-- Décennie -->
    <div class="filter-block">
        <label for="filter-decade">Décennie</label>
        <select id="filter-decade"></select>
    </div>

    <!-- Société de production -->
    <div class="filter-block">
        <label for="filter-company">Société de production</label>
        <input list="company-list" id="filter-company" placeholder="Rechercher">
        <datalist id="company-list"></datalist>
    </div>

    <!-- Popularité -->
    <div class="filter-block">
        <label for="filter-popularity">Popularité (min):
            <span id="pop-value">0+</span>
        </label>
        <input type="range" id="filter-popularity" min="0" max="100" step="1" value="0">
    </div>

    <!-- Note moyenne -->
    <div class="filter-block">
        <label for="filter-vote">Note moyenne (min):
            <span id="vote-value">0+</span>
        </label>
        <input type="range" id="filter-vote" min="0" max="10" step="0.1" value="0">
    </div>

    <!-- Durée -->
    <div class="filter-block">
        <label for="filter-runtime">Durée (min):
            <span id="runtime-value">0+</span>
        </label>
        <input type="range" id="filter-runtime" min="0" max="300" step="10" value="0">
    </div>

</div>

<!-- ======================  CONTENT  ====================== -->

<h2>Panorama des films en fonction du genre et de l'année de sortie</h2>

<main id="content">

    <div id="heatmap-legend"></div>

    <!-- Heatmap -->
    <section id="heatmap-section">
        <h3 id="heatmap-title">Répartition des films</h3>
        <div id="heatmap"></div>
    </section>

    <!-- Top Movies -->
    <section id="list-section">
        <h3 id="list-title">Top 10</h3>
        <div id="movies-table-container"></div>
    </section>

</main>

<script src="index.js"></script>
</body>
</html>
